{"ast":null,"code":"var _jsxFileName = \"/home/feli/Desktop/prog/posts/client/src/components/RutinaDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormEjercicios = ({\n  exercise,\n  onChange,\n  formData\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"sets\",\n      placeholder: \"Sets\",\n      value: formData.sets,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"reps\",\n      placeholder: \"Reps\",\n      value: formData.reps,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"weight\",\n      placeholder: \"Weight\",\n      value: formData.weight,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 5\n  }, this);\n};\n_c = FormEjercicios;\nfunction RutinaDetail({\n  ejercicios\n}) {\n  _s();\n  // Initialize state to hold form data for each exercise\n  const [formData, setFormData] = useState(ejercicios.map(() => ({\n    sets: '',\n    reps: '',\n    weight: ''\n  })));\n\n  // Function to handle changes to any form input\n  const handleChange = (index, e) => {\n    const newFormData = [...formData];\n    newFormData[index] = {\n      ...newFormData[index],\n      [e.target.name]: e.target.value\n    };\n    setFormData(newFormData);\n  };\n\n  // Function to handle form submission\n  const handleSubmitAll = async e => {\n    e.preventDefault();\n    try {\n      // Map over the exercises and form data to create an array of promises\n      const promises = ejercicios.map((exercise, index) => axios.post('/api/workouts', {\n        exercise,\n        ...formData[index]\n      }));\n      // Wait for all promises to resolve\n      const responses = await Promise.all(promises);\n      console.log(responses.map(res => res.data));\n      // Optionally, clear the form after submission\n      setFormData(formData.map(() => ({\n        sets: '',\n        reps: '',\n        weight: ''\n      })));\n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [ejercicios.map((ejercicio, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: ejercicio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormEjercicios, {\n        exercise: ejercicio,\n        formData: formData[index],\n        onChange: e => handleChange(index, e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmitAll,\n      children: \"Submit All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(RutinaDetail, \"c64IQKmZ7YnxrqAes6CLFppC8uY=\");\n_c2 = RutinaDetail;\nexport default RutinaDetail;\nvar _c, _c2;\n$RefreshReg$(_c, \"FormEjercicios\");\n$RefreshReg$(_c2, \"RutinaDetail\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","FormEjercicios","exercise","onChange","formData","children","type","name","placeholder","value","sets","fileName","_jsxFileName","lineNumber","columnNumber","reps","weight","_c","RutinaDetail","ejercicios","_s","setFormData","map","handleChange","index","e","newFormData","target","handleSubmitAll","preventDefault","promises","post","responses","Promise","all","console","log","res","data","error","ejercicio","onClick","_c2","$RefreshReg$"],"sources":["/home/feli/Desktop/prog/posts/client/src/components/RutinaDetail.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nconst FormEjercicios = ({ exercise, onChange, formData }) => {\n  return (\n    <form>\n      <input\n        type=\"number\"\n        name=\"sets\"\n        placeholder=\"Sets\"\n        value={formData.sets}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"reps\"\n        placeholder=\"Reps\"\n        value={formData.reps}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"weight\"\n        placeholder=\"Weight\"\n        value={formData.weight}\n        onChange={onChange}\n      />\n    </form>\n  );\n};\n\n\nfunction RutinaDetail({ ejercicios }) {\n  // Initialize state to hold form data for each exercise\n  const [formData, setFormData] = useState(\n    ejercicios.map(() => ({ sets: '', reps: '', weight: '' }))\n  );\n\n  // Function to handle changes to any form input\n  const handleChange = (index, e) => {\n    const newFormData = [...formData];\n    newFormData[index] = {\n      ...newFormData[index],\n      [e.target.name]: e.target.value\n    };\n    setFormData(newFormData);\n  };\n\n  // Function to handle form submission\n  const handleSubmitAll = async (e) => {\n    e.preventDefault();\n    try {\n      // Map over the exercises and form data to create an array of promises\n      const promises = ejercicios.map((exercise, index) =>\n        axios.post('/api/workouts', {\n          exercise,\n          ...formData[index]\n        })\n      );\n      // Wait for all promises to resolve\n      const responses = await Promise.all(promises);\n      console.log(responses.map(res => res.data));\n      // Optionally, clear the form after submission\n      setFormData(formData.map(() => ({ sets: '', reps: '', weight: '' })));\n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n\n  return (\n    <div>\n      {ejercicios.map((ejercicio, index) => (\n        <div key={index}>\n          <h2>{ejercicio}</h2>\n          <FormEjercicios\n            exercise={ejercicio}\n            formData={formData[index]}\n            onChange={(e) => handleChange(index, e)}\n          />\n        </div>\n      ))}\n      <button onClick={handleSubmitAll}>Submit All</button>\n    </div>\n  );\n}\n\nexport default RutinaDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}