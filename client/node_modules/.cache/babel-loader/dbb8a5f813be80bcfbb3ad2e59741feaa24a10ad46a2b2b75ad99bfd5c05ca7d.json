{"ast":null,"code":"var _jsxFileName = \"/home/feli/Desktop/prog/posts/client/src/components/RutinaDetail.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useState } from 'react';\nimport axios from 'axios';\nimport ExerciseForm from './ExerciseForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction RutinaDetail(ejercicios) {\n  _s();\n  const exercisesArray = ejercicios.props;\n  console.log(exercisesArray);\n  const [workOutData, setWorkoutData] = useState(exercisesArray.map(exercise => ({\n    exercise: exercise,\n    sets: [{\n      reps: '',\n      weight: ''\n    }]\n  })));\n  // Function to handle changes to any form input\n  const handleChange = (exerciseIndex, setIndex, e) => {\n    setWorkoutData(prevWorkoutData => {\n      const newWorkoutData = [...prevWorkoutData];\n      newWorkoutData[exerciseIndex].sets[setIndex][e.target.name] = e.target.value;\n      return newWorkoutData;\n    });\n  };\n  const addSet = exerciseIndex => {\n    setWorkoutData(prevWorkoutData => {\n      const newWorkoutData = [...prevWorkoutData];\n      newWorkoutData[exerciseIndex].sets.push({\n        reps: '',\n        weight: ''\n      });\n      return newWorkoutData;\n    });\n  };\n\n  // Function to handle form submission\n  const handleSubmitAll = async e => {\n    e.preventDefault();\n    try {\n      // Send the entire workout data to the server\n      const response = await axios.post('/api/workouts', workoutData);\n      console.log(response.data);\n      // Optionally, clear the form after submission\n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [workoutData.map((workout, exerciseIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: workout.exercise\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ExerciseForm, {\n        sets: workout.sets,\n        handleChange: (setIndex, e) => handleChange(exerciseIndex, setIndex, e),\n        addSet: () => addSet(exerciseIndex)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this)]\n    }, exerciseIndex, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmitAll,\n      children: \"Submit All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(RutinaDetail, \"uzcZdt15PZkOtD/eHu2C7j+mbXI=\");\n_c = RutinaDetail;\nexport default RutinaDetail;\n{/*\n <h2>{ejercicio}</h2>\n      <form>\n      <input\n        type=\"number\"\n        name=\"sets\"\n        placeholder=\"Sets\"\n        value={formData.sets}\n        onChange={(e) => handleChange(index, e)}\n      />\n      <input\n        type=\"number\"\n        name=\"reps\"\n        placeholder=\"Reps\"\n        value={formData.reps}\n        onChange={(e) => handleChange(index, e)}\n      />\n      <input\n        type=\"number\"\n        name=\"weight\"\n        placeholder=\"Weight\"\n        value={formData.weight}\n        onChange={(e) => handleChange(index, e)}\n      />\n    </form>\n */}\n{/*import React, { useState } from 'react';\n import axios from 'axios';\n const FormEjercicios = ({ exercise, onChange, formData }) => {\n  return (\n    <form>\n      <input\n        type=\"number\"\n        name=\"sets\"\n        placeholder=\"Sets\"\n        value={formData.sets}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"reps\"\n        placeholder=\"Reps\"\n        value={formData.reps}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"weight\"\n        placeholder=\"Weight\"\n        value={formData.weight}\n        onChange={onChange}\n      />\n    </form>\n  );\n };\n \n function RutinaDetail({ ejercicios }) {\n  // Initialize state to hold form data for each exercise\n  const ejerciciosArray = ejercicios.props\n  \n  const [formData, setFormData] = useState(\n    ejerciciosArray.map(() => ({ sets: '', reps: '', weight: '' }))\n  );\n   // Function to handle changes to any form input\n  const handleChange = (index, e) => {\n    const newFormData = [...formData];\n    newFormData[index] = {\n      ...newFormData[index],\n      [e.target.name]: e.target.value\n    };\n    setFormData(newFormData);\n  };\n   // Function to handle form submission\n  const handleSubmitAll = async (e) => {\n    e.preventDefault();\n    try {\n      // Map over the exercises and form data to create an array of promises\n      const promises = ejerciciosArray.map((exercise, index) =>\n        axios.post('/api/workouts', {\n          exercise,\n          ...formData[index]\n        })\n      );\n      // Wait for all promises to resolve\n      const responses = await Promise.all(promises);\n      console.log(responses.map(res => res.data));\n      // Optionally, clear the form after submission\n      setFormData(formData.map(() => ({ sets: '', reps: '', weight: '' })));\n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n   return (\n    <div>\n      {ejerciciosArray.map((ejercicio, index) => (\n        <div key={index}>\n          <h2>{ejercicio}</h2>\n          <FormEjercicios\n            exercise={ejercicio}\n            formData={formData[index]}\n            onChange={(e) => handleChange(index, e)}\n          />\n        </div>\n      ))}\n      <button onClick={handleSubmitAll}>Submit All</button>\n    </div>\n  );\n }\n export default RutinaDetail;*/}\nvar _c;\n$RefreshReg$(_c, \"RutinaDetail\");","map":{"version":3,"names":["React","useState","axios","ExerciseForm","jsxDEV","_jsxDEV","RutinaDetail","ejercicios","_s","exercisesArray","props","console","log","workOutData","setWorkoutData","map","exercise","sets","reps","weight","handleChange","exerciseIndex","setIndex","e","prevWorkoutData","newWorkoutData","target","name","value","addSet","push","handleSubmitAll","preventDefault","response","post","workoutData","data","error","children","workout","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["/home/feli/Desktop/prog/posts/client/src/components/RutinaDetail.jsx"],"sourcesContent":["import React from 'react'\nimport { useState } from 'react';\nimport axios from 'axios';\nimport ExerciseForm from './ExerciseForm';\n\nfunction RutinaDetail(ejercicios) {\n  const exercisesArray = ejercicios.props\n\n  console.log(exercisesArray)\n  \n  const [workOutData, setWorkoutData] = useState(\n    exercisesArray.map((exercise) => ({\n      exercise: exercise,\n      sets: [{ reps: '', weight: '' }]\n    }))\n  );\n  // Function to handle changes to any form input\n  const handleChange = (exerciseIndex, setIndex, e) => {\n    setWorkoutData((prevWorkoutData) => {\n      const newWorkoutData = [...prevWorkoutData];\n      newWorkoutData[exerciseIndex].sets[setIndex][e.target.name] = e.target.value;\n      return newWorkoutData;\n    });\n  };\n\n  const addSet = (exerciseIndex) => {\n    setWorkoutData((prevWorkoutData) => {\n      const newWorkoutData = [...prevWorkoutData];\n      newWorkoutData[exerciseIndex].sets.push({ reps: '', weight: '' });\n      return newWorkoutData;\n    });\n  };\n\n  // Function to handle form submission\n  const handleSubmitAll = async (e) => {\n    e.preventDefault();\n    try {\n      // Send the entire workout data to the server\n      const response = await axios.post('/api/workouts', workoutData);\n      console.log(response.data);\n      // Optionally, clear the form after submission\n      \n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n\n  return (\n    <div>\n      {workoutData.map((workout, exerciseIndex) => (\n        <div key={exerciseIndex}>\n          <h2>{workout.exercise}</h2>\n          <ExerciseForm\n            sets={workout.sets}\n            handleChange={(setIndex, e) => handleChange(exerciseIndex, setIndex, e)}\n            addSet={() => addSet(exerciseIndex)}\n          />\n        </div>\n      ))}\n\n      <button onClick={handleSubmitAll}>Submit All</button>\n    </div>\n  );\n}\n\nexport default RutinaDetail\n\n\n\n{/*\n<h2>{ejercicio}</h2>\n      <form>\n      <input\n        type=\"number\"\n        name=\"sets\"\n        placeholder=\"Sets\"\n        value={formData.sets}\n        onChange={(e) => handleChange(index, e)}\n      />\n      <input\n        type=\"number\"\n        name=\"reps\"\n        placeholder=\"Reps\"\n        value={formData.reps}\n        onChange={(e) => handleChange(index, e)}\n      />\n      <input\n        type=\"number\"\n        name=\"weight\"\n        placeholder=\"Weight\"\n        value={formData.weight}\n        onChange={(e) => handleChange(index, e)}\n      />\n    </form>\n*/}\n\n{/*import React, { useState } from 'react';\nimport axios from 'axios';\nconst FormEjercicios = ({ exercise, onChange, formData }) => {\n  return (\n    <form>\n      <input\n        type=\"number\"\n        name=\"sets\"\n        placeholder=\"Sets\"\n        value={formData.sets}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"reps\"\n        placeholder=\"Reps\"\n        value={formData.reps}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"weight\"\n        placeholder=\"Weight\"\n        value={formData.weight}\n        onChange={onChange}\n      />\n    </form>\n  );\n};\n\n\nfunction RutinaDetail({ ejercicios }) {\n  // Initialize state to hold form data for each exercise\n  const ejerciciosArray = ejercicios.props\n  \n  const [formData, setFormData] = useState(\n    ejerciciosArray.map(() => ({ sets: '', reps: '', weight: '' }))\n  );\n\n  // Function to handle changes to any form input\n  const handleChange = (index, e) => {\n    const newFormData = [...formData];\n    newFormData[index] = {\n      ...newFormData[index],\n      [e.target.name]: e.target.value\n    };\n    setFormData(newFormData);\n  };\n\n  // Function to handle form submission\n  const handleSubmitAll = async (e) => {\n    e.preventDefault();\n    try {\n      // Map over the exercises and form data to create an array of promises\n      const promises = ejerciciosArray.map((exercise, index) =>\n        axios.post('/api/workouts', {\n          exercise,\n          ...formData[index]\n        })\n      );\n      // Wait for all promises to resolve\n      const responses = await Promise.all(promises);\n      console.log(responses.map(res => res.data));\n      // Optionally, clear the form after submission\n      setFormData(formData.map(() => ({ sets: '', reps: '', weight: '' })));\n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n\n  return (\n    <div>\n      {ejerciciosArray.map((ejercicio, index) => (\n        <div key={index}>\n          <h2>{ejercicio}</h2>\n          <FormEjercicios\n            exercise={ejercicio}\n            formData={formData[index]}\n            onChange={(e) => handleChange(index, e)}\n          />\n        </div>\n      ))}\n      <button onClick={handleSubmitAll}>Submit All</button>\n    </div>\n  );\n}\n\nexport default RutinaDetail;*/}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}