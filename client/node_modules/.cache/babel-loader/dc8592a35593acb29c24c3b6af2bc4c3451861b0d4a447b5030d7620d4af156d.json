{"ast":null,"code":"var _jsxFileName = \"/home/feli/Desktop/prog/posts/client/src/components/RutinaDetail.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FormEjercicios = ({\n  exercise,\n  onChange,\n  formData\n}) => {\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"sets\",\n      placeholder: \"Sets\",\n      value: formData.sets,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"reps\",\n      placeholder: \"Reps\",\n      value: formData.reps,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      name: \"weight\",\n      placeholder: \"Weight\",\n      value: formData.weight,\n      onChange: onChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 5\n  }, this);\n};\n_c = FormEjercicios;\nfunction RutinaDetail({\n  ejercicios\n}) {\n  _s();\n  // Initialize state to hold form data for each exercise\n  const ejerciciosArray = ejercicios.props;\n  const [formData, setFormData] = useState(ejerciciosArray.map(() => ({\n    sets: '',\n    reps: '',\n    weight: ''\n  })));\n\n  // Function to handle changes to any form input\n  const handleChange = (index, e) => {\n    const newFormData = [...formData];\n    newFormData[index] = {\n      ...newFormData[index],\n      [e.target.name]: e.target.value\n    };\n    setFormData(newFormData);\n  };\n\n  // Function to handle form submission\n  const handleSubmitAll = async e => {\n    e.preventDefault();\n    try {\n      // Map over the exercises and form data to create an array of promises\n      const promises = ejerciciosArray.map((exercise, index) => axios.post('/api/workouts', {\n        exercise,\n        ...formData[index]\n      }));\n      // Wait for all promises to resolve\n      const responses = await Promise.all(promises);\n      console.log(responses.map(res => res.data));\n      // Optionally, clear the form after submission\n      setFormData(formData.map(() => ({\n        sets: '',\n        reps: '',\n        weight: ''\n      })));\n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [ejerciciosArray.map((ejercicio, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: ejercicio\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(FormEjercicios, {\n        exercise: ejercicio,\n        formData: formData[index],\n        onChange: e => handleChange(index, e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSubmitAll,\n      children: \"Submit All\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(RutinaDetail, \"L3h3IJqgikQQlQpxlzejmlGHr8k=\");\n_c2 = RutinaDetail;\nexport default RutinaDetail;\nvar _c, _c2;\n$RefreshReg$(_c, \"FormEjercicios\");\n$RefreshReg$(_c2, \"RutinaDetail\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","FormEjercicios","exercise","onChange","formData","children","type","name","placeholder","value","sets","fileName","_jsxFileName","lineNumber","columnNumber","reps","weight","_c","RutinaDetail","ejercicios","_s","ejerciciosArray","props","setFormData","map","handleChange","index","e","newFormData","target","handleSubmitAll","preventDefault","promises","post","responses","Promise","all","console","log","res","data","error","ejercicio","onClick","_c2","$RefreshReg$"],"sources":["/home/feli/Desktop/prog/posts/client/src/components/RutinaDetail.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nconst FormEjercicios = ({ exercise, onChange, formData }) => {\n  return (\n    <form>\n      <input\n        type=\"number\"\n        name=\"sets\"\n        placeholder=\"Sets\"\n        value={formData.sets}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"reps\"\n        placeholder=\"Reps\"\n        value={formData.reps}\n        onChange={onChange}\n      />\n      <input\n        type=\"number\"\n        name=\"weight\"\n        placeholder=\"Weight\"\n        value={formData.weight}\n        onChange={onChange}\n      />\n    </form>\n  );\n};\n\n\nfunction RutinaDetail({ ejercicios }) {\n  // Initialize state to hold form data for each exercise\n  const ejerciciosArray = ejercicios.props\n  \n  const [formData, setFormData] = useState(\n    ejerciciosArray.map(() => ({ sets: '', reps: '', weight: '' }))\n  );\n\n  // Function to handle changes to any form input\n  const handleChange = (index, e) => {\n    const newFormData = [...formData];\n    newFormData[index] = {\n      ...newFormData[index],\n      [e.target.name]: e.target.value\n    };\n    setFormData(newFormData);\n  };\n\n  // Function to handle form submission\n  const handleSubmitAll = async (e) => {\n    e.preventDefault();\n    try {\n      // Map over the exercises and form data to create an array of promises\n      const promises = ejerciciosArray.map((exercise, index) =>\n        axios.post('/api/workouts', {\n          exercise,\n          ...formData[index]\n        })\n      );\n      // Wait for all promises to resolve\n      const responses = await Promise.all(promises);\n      console.log(responses.map(res => res.data));\n      // Optionally, clear the form after submission\n      setFormData(formData.map(() => ({ sets: '', reps: '', weight: '' })));\n    } catch (error) {\n      console.error('Error submitting workouts:', error);\n    }\n  };\n\n  return (\n    <div>\n      {ejerciciosArray.map((ejercicio, index) => (\n        <div key={index}>\n          <h2>{ejercicio}</h2>\n          <FormEjercicios\n            exercise={ejercicio}\n            formData={formData[index]}\n            onChange={(e) => handleChange(index, e)}\n          />\n        </div>\n      ))}\n      <button onClick={handleSubmitAll}>Submit All</button>\n    </div>\n  );\n}\n\nexport default RutinaDetail;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}